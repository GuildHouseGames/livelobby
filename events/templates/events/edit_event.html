{% extends 'base.html' %}
{% block title %} Edit Event {% endblock title %}

{% block back_button %}
    <a class="left show-on-large" style="margin: 0px 0px 0px 10px" href="/">
        <i class="large material-icons">arrow_back</i>
    </a>
{% endblock %}

{% load static %}

{% block content %}
<head>
  <link rel="stylesheet" type="text/css" href="{% static 'events/event_list.css' %}">
</head>

<div class="container">
  <div class="card">
      <div class="card-content">
          <p class="card-title grey-text text-darken-4">Edit Event</p>
          <div class="grey-text text-darken-5">To edit this event, please update the details below:</div>
          <div class="row">
            {% if form.errors %}
              {% for field, errors in form.errors.items %}
                <div class="col s12 m8 offset-m2">
                  <div class="red-text left-align">{{ errors }}</div>
                </div>
              {% endfor %}
            {% endif %}
          </div>
          <div class="row">
            <form method="post">
                {% csrf_token %}
                {% for field in form %}
                  <div class="form-group">
                      <div class="fieldWrapper input-field">
                        <!-- Need to add a <label> tag around just is_booked-->
                        {% if field.name == 'is_booked' %}
                          <label>
                            {{ field }}
                            {% if field.help_text %}
                              <span class="helper-text" data-error="
                                {% for error in field.errors %}
                                    {{ error }}
                                {% endfor %}">
                                {{ field.help_text|safe }}
                              </span>
                            {% endif %}
                          </label>
                        {% else %}
                          {{ field.label }}
                          {{ field }}
                          {% if field.help_text %}
                            <span class="helper-text" data-error="
                              {% for error in field.errors %}
                                  {{ error }}
                              {% endfor %}">
                              {{ field.help_text|safe }}
                            </span>
                          {% endif %}
                        {% endif %}
                      </div>
                  </div>
                {% endfor %}
                {% if form.places.errors %}
                    {% for error in form.places.errors %}
                        <div class="red-text left-align">{{ error }}</div>
                    {% endfor %}
                {% endif %}
                <br><br><br><br>
                <button type="submit" class="btn waves-effect waves-light blue">
                  Edit <i class="material-icons right">edit</i>
                </button>
            </form>
          </div>
      </div>
  </div>
</div>
{% endblock %}
